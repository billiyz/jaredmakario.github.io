<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Jared Makario</title>
  <meta content="jared makario" name="descriptison">
  <meta content="Jared makario" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet">
  <link href="assets/vendor/ionicons/css/ionicons.min.css" rel="stylesheet">
  <link href="assets/vendor/owl.carousel/assets/owl.carousel.min.css" rel="stylesheet">
  <link href="assets/vendor/venobox/venobox.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">

  <!-- =======================================================
  * Template Name: DevFolio - v2.3.0
  * Template URL: https://bootstrapmade.com/devfolio-bootstrap-portfolio-html-template/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body id="page-top">

  <!-- ======= Header/ Navbar ======= -->
  <nav class="navbar navbar-b navbar-trans navbar-expand-md fixed-top" id="mainNav">
    <div class="container">
      <a class="navbar-brand js-scroll" href="#page-top"></a>
      <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarDefault" aria-controls="navbarDefault" aria-expanded="false" aria-label="Toggle navigation">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <div class="navbar-collapse collapse justify-content-end" id="navbarDefault">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link js-scroll active" href="index.html">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll" href="news.html">News</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll" href="blogs.html">Blog</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <br></br>
    <div class="overlay-mf"></div>
  <main id="main">

    <!-- ======= Portfolio Details Section ======= -->
    <section class="portfolio-details">
      <div class="container">


  
<!-- ======= Blog Single Section ======= -->
    <section class="blog-wrapper sect-pt4" id="blog">
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <div class="post-box">
              <div class="post-meta">
                <h1 class="text-center">Raw Water Quality Monitoring with LoRa</h1>
                <ul>
                  <li>
                    <span class="ion-ios-person"></span>
                    <a href="#">Jared Makario</a>
                  </li>
                  <li>
                    <span class="ion-ios-person"></span>
                    <a href="#">Jason Kabi</a>
                  </li>
                  <li>
                    <span class="ion-ios-person"></span>
                    <a href="#">Nahashon Mokua</a>
                  </li>
                  <li>
                    <span class="ion-pricetag"></span>
                    <a href="#">IoT</a>
                  </li>
                  <li>
                    <span class="ion-pricetag"></span>
                    <a href="#">Data Science</a>
                  </li>
                  <li>
                    <span class="ion-pricetag"></span>
                    <a href="#">Machine Learning</a>
                  </li>
                </ul>
              </div>
              <div class="text-justify">
                <p>
                  Water is the most fundamental resource that supports life. Many human activities no doubt depend on water such as agriculture, industrial processes, hospitals even cooling engines on cars. However, the commodity remains scarce despite the earth having approximately 71% covered with water. Approximately 97% of the earth's water is found in the oceans and often too salty for drinking, growing crops, and most industrial uses except cooling. The devastating part is that only 3% of the earth's water is fresh. This is what brings about drought, hunger, starvation and even reducing the efficiency of machinery. Knowing the water quality and mineral composition, reduces treatment costs and hence making the commodity cheaper, safe and affordable for sustainability. Water parameters such as pH, turbidity, temperature, Electrical conductivity (EC) and Total Dissolved Solids (TDS), mineral composition and color affects its purity.
                  </p>
                  <p>
                   In the middle of the Covid-19 pandemic people stay at home and are now using more water than before. In addition, most treatment plants don't have standard affordable equipment to automatically collect water parameters data, process and help in water treatment decisions. These decisions are often how much water treatment chemicals to apply, analysis of treated water properties, water leakages and disposal of wastewater. Therefore, we were set on a mission to deploy water quality monitoring sensors at the Nyeri Water and Sanitation Company (NYEWASCO) water treatment facility in central Kenya. 
                  </p>
                    <center>
                    <img src="assets/img/nyewasco/plant.png" class="img-fluid rounded b-shadow-a" height="30%" width="50%" alt="">
                    <br></br>
                    <p><em>Figure 1: Aerial photo of NYEWASCO water treatment plant in Nyeri-Kenya</em></p>
                    </center>
                  </p>
                </p>
                <p>
                  We selected parameters the company was interested in during the water treatment process. The parameters are; water pH, turbidity and temperature. We assembled three sensor nodes using the stm32 f446re nucleo board, lora transceiver shield, lora 8 channel multitech indoor gateway, water pH, turbidity and temperature sensors.
                </p>
                 <center>
                    <img src="assets/img/nyewasco/prep.png" class="img-fluid rounded b-shadow-a" height="30%" width="50%" alt="">
                    <br></br>
                    <p><em>Figure 2: Preparing for field deployment</em></p>
                    </center>
                <p>
                 <H5> Prototyping </H5>
                We spent a few hours in the lab designing, assembling hardware and programming three sensor nodes. Water pH is measured using an analog pH sensor which works like a voltmeter. It measures the voltage or electrical potential produced by water whose acidity we're interested in by comparing it with the voltage of a known solution. The difference in voltage helps deduce pH value proportionally. 
              </p>
              <p>
                Turbidity sensor SKU SENO189 on the other hand measures the relative clarity of a water. It has an optical feature that shows measurement of the amount of light that is scattered by particles and other materials in the water when a light is shone through water. The higher the intensity of scattered light, the higher the turbidity. Normally in the water treatment process they add Aluminium sulphate to help settle down these particles then later filtered. Various types of hardware used are as shown in Figure 3.
                </p>
                 <center>
                    <img src="assets/img/nyewasco/hardware.png" class="img-fluid rounded b-shadow-a" height="30%" width="50%" alt="">
                    <br></br>
                    <p><em>Figure 3: Hardware parts used to make the sensor nodes.</em></p>
                </center>
              <p>
                The hardware was assembled in the lab and was programmed using mbed compiler to measure the three parameters. After assembling, the prototypes were messy with wires. A decision to design a pcb circuit and etched it was arrived at to make the work neat, eliminate messy wires and minimize point of failure. 
              </p>
                 <center>
                    <img src="assets/img/nyewasco/mbed_fab.png" class="img-fluid rounded b-shadow-a" height="30%" width="50%" alt="">
                    <br></br>
                    <p><em>Figure 4: Assembled water quality monitoring sensor node prototype</em></p>
                </center>
                <p>
                  <H5> Calibration </H5>
                  The sensors were not accurate and consistent as observed in sample measurements. Therefore, calibration was done in the NYEWASCO treatment plant laboratory using the standard primary instruments and solutions. Various sample data points were taken from both the node and laboratory sensors and correlation established in the software program. Accuracy improved significantly.
                </p>
                  <center>
                    <img src="assets/img/nyewasco/callibration.png" class="img-fluid rounded b-shadow-a" height="30%" width="50%" alt="">
                    <br></br>
                    <p><em>Figure 5: Calibration of water pH sensor using buffer solutions (left)  and turbidity sensor</em></p>
                </center>
                <p>
                  <H5>Deployment </H5>
                  Most of the time deployment and data collection is the most intimidating process. A reconnaissance was done in the water treatment plant on the first day to get authorization clearance, identify deployment areas and assess connectivity means for instance internet and power got the gateway. Sensor mulfunction and power management were our main challenges. Figure 6 shows how we got over them.
                </p>
                   <center>
                    <img src="assets/img/nyewasco/solution.png" class="img-fluid rounded b-shadow-a" height="30%" width="50%" alt="">
                    <br></br>
                    <p><em>Figure 6: Installed gateway in an office (left) and power connection process</em></p>
                </center>
                <p>
                  <H5>Results </H5>
                  Figure 7 shows a deployed sensors node to collect raw water parameters to The Things Network Server (TTN) via the 8 channel LoRa gateway connected to internet and power. Check out the results and more on this <a href="https://www.ijcaonline.org/archives/volume174/number21/31799-2021921113"><i 
                          class="bx bx-file-blank"></i> <span>journal.</span></a>
                 <center>
                    <img src="assets/img/nyewasco/deploy.png" class="img-fluid rounded b-shadow-a" height="30%" width="50%" alt="">
                    <br></br>
                    <p><em>Figure 7: Deployed water quality monitoring sensor node </em></p>
                </center>
               <p>
                 I wish to acknowledge Nahshon Mokua, Dr. Ciira wa Maina, Jason Kabi and NYEWASCO management for their input in this work. Credit goes to the authers of the referenced journal
                </p>
              </div>
            </div>
          </div>      
    </section><!-- End Portfolio Details Section -->


  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer>
    <div class="container">
      <div class="row">
        <div class="col-sm-12">
          <div class="copyright-box">
            <p class="copyright">&copy; Copyright <strong>2020</strong>. All Rights Reserved</p>
            <div class="credits">
            </div>
          </div>
        </div>
      </div>
    </div>
  </footer><!-- End  Footer -->

  <a href="#" class="back-to-top"><i class="fa fa-chevron-up"></i></a>
  <div id="preloader"></div>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/jquery/jquery.min.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/jquery.easing/jquery.easing.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>
  <script src="assets/vendor/waypoints/jquery.waypoints.min.js"></script>
  <script src="assets/vendor/counterup/jquery.counterup.min.js"></script>
  <script src="assets/vendor/owl.carousel/owl.carousel.min.js"></script>
  <script src="assets/vendor/typed.js/typed.min.js"></script>
  <script src="assets/vendor/venobox/venobox.min.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>

</body>

</html>